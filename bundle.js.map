{"version":3,"sources":["webpack:///webpack/bootstrap 1013beae95ffa0b5dd07","webpack:///./scripts/application.js","webpack:///./scripts/com/jeshu/cars/CarsGame.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK,eAAe;AACpB,MAAK,eAAe;AACpB,MAAK,iBAAiB;AACtB,MAAK,iBAAiB;AACtB,MAAK,iBAAiB;AACtB,MAAK,eAAe;AACpB,MAAK,iBAAiB;AACtB,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,MAAK,eAAe;AACpB,MAAK,eAAe;AACpB,MAAK,iBAAiB;AACtB,MAAK,iBAAiB;AACtB,MAAK,iBAAiB;AACtB,MAAK,eAAe;AACpB,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1013beae95ffa0b5dd07\n **/","var Clock = require('./com/jeshu/cars/CarsGame.js');\nClock.init('main-canvas');\n// module.exports = application;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/application.js\n ** module id = 0\n ** module chunks = 0\n **/","var Const = {\r\n  contextType: '2d',\r\n  GAME_NAME  :\"pixcel cars\",\r\n  START_INSTRUCTION : \"Press Spacebar to start !!!\",\r\n  BLOCK_SIZE : 10\r\n}\r\n\r\nvar bgColor = \"#DBDFCD\";\r\nvar canvas, context, speed = 5, gameState = 0, score = 0, highScore = 0,\r\n plyX = 9, plyY = 36, speed = 1, orignSpeed = 1;\r\nvar runEnemyCarsTimeout, inZipMode = false;\r\n\r\n\r\nfunction init(canvasId) {\r\n  canvas = document.getElementById(canvasId);\r\n  canvas.height = 400;\r\n  canvas.width = 240;\r\n  context = canvas.getContext(Const.contextType);\r\n  context.lineDashOffset = 0\r\n  initPreScreen();\r\n  addControls();\r\n}\r\n\r\nfunction initPreScreen(argument) {\r\n  addInitText();\r\n  //render(true);\r\n  // setTimeout(addInitText, 200);\r\n}\r\n\r\nfunction createBlocks(isDark, x, y) {\r\n  var color = isDark ? \"#5C604E\" : \"#CDD2B9\";\r\n  x = x*Const.BLOCK_SIZE;\r\n  y = y*Const.BLOCK_SIZE;\r\n  context.fillStyle = color;\r\n  context.fillRect(x, y, Const.BLOCK_SIZE, Const.BLOCK_SIZE);\r\n\r\n  context.fillStyle = bgColor;\r\n  context.fillRect(x+1, y+1, Const.BLOCK_SIZE - 2 , Const.BLOCK_SIZE -2);\r\n\r\n  context.fillStyle = color;\r\n  context.fillRect(x+3, y+3, Const.BLOCK_SIZE -6 , Const.BLOCK_SIZE -6);\r\n}\r\n\r\nfunction render(static) {\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n  var row = canvas.height/10;\r\n  var col = canvas.width/10;\r\n  for (var i = 0; i < row; i++) {\r\n    for (var j = 0; j < col; j++) {\r\n      createBlocks(false, j, i);\r\n    };\r\n  };\r\n  playerCar(plyX,plyY);\r\n  runEnemyCars();\r\n  return;\r\n}\r\n\r\nfunction runEnemyCars() {\r\n  if(gameState == 0) {\r\n    return;\r\n  }\r\n  console.log(\"runEnemyCars | \"   , (750/speed) * 10);\r\n  var xPosArr = [4,9,14];\r\n  var x = xPosArr[Math.round(Math.random()*2)]\r\n  moveCar(x, -4)\r\n  runEnemyCarsTimeout = setTimeout(runEnemyCars, (750/speed) * 10);\r\n}\r\n\r\nfunction moveCar(x, y) {\r\n  if(gameState == 0) {\r\n    return;\r\n  }\r\n  enemyCar(x,y,true);\r\n  y++;\r\n\r\n  enemyCar(x,y,false);\r\n  // console.log(x,y);\r\n  if(y < 40) {\r\n    setTimeout(moveCar, 750/speed,x,y);\r\n  } else {\r\n    y = -4;\r\n    // setTimeout(moveCar, Math.random()*2000,x,y);\r\n  }\r\n  if(x == plyX && y > plyY - 3)  {\r\n    gameState = 0;\r\n    console.log(\"gameOver\");\r\n    endGame();\r\n  }\r\n  addScore();\r\n}\r\n\r\nfunction slidePlayerCar(onLeft) {\r\n  playerCar(plyX, plyY, true)\r\n  var xPos = onLeft ? -5 : 5;\r\n  console.log(plyX);\r\n  plyX += xPos;\r\n  if(plyX < 4) {\r\n    plyX = 4\r\n  } else if(plyX > 14) {\r\n    plyX = 14\r\n  }\r\n  playerCar(plyX, plyY, false);\r\n}\r\n\r\nfunction playerCar(x, y, clear) {\r\n  var carPts = [\r\n    {x : x+1, y : y},\r\n    {x : x, y : y+1},\r\n    {x : x+1, y : y+1},\r\n    {x : x+1, y : y+2},\r\n    {x : x+2, y : y+1},\r\n    {x : x, y : y+3},\r\n    {x : x+1, y : y+3},\r\n    {x : x+2, y : y+3}\r\n  ];\r\n  carPts.forEach(function(item) {\r\n    // console.log(item)\r\n    createBlocks(!clear, item.x, item.y)\r\n  });\r\n}\r\n\r\nfunction enemyCar(x, y, clear) {\r\n  var carPts = [\r\n    {x : x+1, y : y},\r\n    {x : x, y : y+1},\r\n    {x : x+1, y : y+1},\r\n    {x : x+1, y : y+2},\r\n    {x : x+2, y : y+1},\r\n    {x : x, y : y+3},\r\n    {x : x+2, y : y+3}\r\n  ];\r\n  carPts.forEach(function(item) {\r\n    // console.log(item)\r\n    createBlocks(!clear, item.x, item.y)\r\n  });\r\n}\r\n\r\nfunction addInitText(argument) {\r\n  context.fillStyle = \"#333\";\r\n  context.font = \"28px sans-serif\";\r\n\tcontext.fillText(Const.GAME_NAME, 52,  150);\r\n\tcontext.stroke();\r\n  context.fillStyle = \"#000\";\r\n  context.font = \"12px sans-serif\";\r\n\tcontext.fillText(Const.START_INSTRUCTION, 48,  180);\r\n\tcontext.stroke();\r\n}\r\n\r\nfunction addControls(argument) {\r\n  $(document).on(\"keydown\", keyDownHandler)\r\n  $(document).on(\"keyup\", keyUpHandler)\r\n}\r\n\r\nfunction keyUpHandler(evt) {\r\n  if(evt.which == 17)\r\n    speed = orignSpeed;\r\n    if(inZipMode) {\r\n      clearTimeout(runEnemyCarsTimeout);\r\n      runEnemyCarsTimeout = setTimeout(runEnemyCars, (750/speed) * 10);\r\n      inZipMode = false;\r\n    }\r\n}\r\n\r\nfunction keyDownHandler(evt) {\r\n  // console.log(evt.which);\r\n  if(evt.which == 32 && gameState == 0) {\r\n    gameState = 1;\r\n    startGame();\r\n  } else if(gameState == 1){\r\n    switch (evt.which) {\r\n      case 13 :\r\n        endGame();\r\n        break;\r\n      case 39:\r\n        slidePlayerCar(false)\r\n        // console.log(\"palyer move right\");\r\n        break;\r\n      case 37:\r\n        slidePlayerCar(true)\r\n        // console.log(\"palyer move left\");\r\n        break;\r\n      case 17:\r\n        speed = orignSpeed + 10;\r\n        score++;\r\n        if(!inZipMode) {\r\n          console.log(\"palyer speeds up\");\r\n          inZipMode = true;\r\n          clearTimeout(runEnemyCarsTimeout);\r\n          runEnemyCarsTimeout = setTimeout(runEnemyCars, (750/speed) * 10);\r\n        }\r\n      default:\r\n\r\n    }\r\n  }\r\n}\r\n\r\nfunction startGame(argument) {\r\n  render();\r\n}\r\n\r\nfunction addScore() {\r\n  console.log(score, speed);\r\n  score++;\r\n  context.fillStyle = \"#FFF\";\r\n  context.font = \"10px sans-serif\";\r\n\tcontext.fillText(\"Score : \"+score, 165,  15);\r\n\tcontext.stroke();\r\n  if(score > speed * 100) {\r\n    speed += 1;\r\n  }\r\n}\r\n\r\nfunction endGame(argument) {\r\n  if(highScore < score) {\r\n    highScore = score;\r\n  }\r\n  gameState = 0;\r\n  score = 0;\r\n  speed = 10;\r\n  setTimeout(function() {\r\n    initPreScreen();\r\n    context.fillStyle = \"#FFF\";\r\n    context.font = \"20px sans-serif\";\r\n  \tcontext.fillText(highScore, 100, 200);\r\n  }, 200)\r\n}\r\n\r\nfunction showScoreScreen(argument) {\r\n  // body...\r\n}\r\n\r\nmodule.exports  = {\r\n  init : init\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/com/jeshu/cars/CarsGame.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}